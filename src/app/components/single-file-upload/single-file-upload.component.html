<p class="file-upload-title">{{title}}</p>
<div class="d-flex flex-column file-upload-container mb-3">
  <input type="file" #inputFile style="display: none" (change)="onManualAdd()" />
  <div #dropZone class="p-3" id="dropZone">
    <div class="container-bg">
      <p class="my-0">Drop file here or click + to upload</p>
      <mat-icon>image</mat-icon>
    </div>
    <mat-chip-list class="mat-chip-list-stacked">
      <mat-chip *ngIf="file!==null && file.name" (removed)="remove()" [removable]="standAlone === false || !file.url"
                [selected]="file.url !== undefined" class="justify-content-between" color="primary">
        <ng-container *ngIf="file.url else notYetUploaded">
          <img *ngIf="file.thumbnail" [src]="file.thumbnail.url" height="24" width="24">
          {{file.hash + file.ext}}
        </ng-container>
        <ng-template #notYetUploaded>
          {{file.name}}
        </ng-template>
        <mat-icon matChipRemove *ngIf="standAlone === false || !file.url">cancel</mat-icon>
      </mat-chip>
    </mat-chip-list>
    <button (click)="triggerFileUploadDialog()" color="primary" mat-mini-fab [disabled]="!canAddFiles">
      <mat-icon>add</mat-icon>
    </button>
    <button (click)="upload()" *ngIf="!isLoading; else loadingButton" [disabled]="!canUpload()" color="primary"
            mat-raised-button>Upload
    </button>
    <ng-template #loadingButton>
      <button color="accent" disabled mat-raised-button>
        <mat-spinner class="m-2" diameter="20"></mat-spinner>
      </button>
    </ng-template>
  </div>
</div>
